<!DOCTYPE html>
<html>
<body>

	<p id="total">TOTAL</p>

<script>
function getJSONP(url, success) {

    var ud = '_' + +new Date,
        script = document.createElement('script'),
        head = document.getElementsByTagName('head')[0] 
               || document.documentElement;

    window[ud] = function(data) {
        head.removeChild(script);
        success && success(data);
    };

    script.src = url.replace('callback=?', 'callback=' + ud);
    head.appendChild(script);

}

// getJSONP('https://api.twitch.tv/kraken/search/streams?q=starcraft', function(data){
//     document.getElementById('total').innerHTML = "Total: " + data.containsKey("_total") ? Integer.parseInt(data.get("_total").toString()) : 0;
//     console.log(data);
// });

function myCallback(jsonpObj){
            var text = '';
            text += "Total: " + jsonpObj['_total'] + "\n";

            var len = jsonpObj['_streams'].length;
            for(var i=0;i<len;i++){
                twitch = jsonpObj['streams'][i];
                text += '<p><img src = "' + twitch['preview']['medium'] +'"/>' + twitch['channel']['display_name'] + '</p>'
            }

            document.getElementById('total').innerHTML = text;
        }

</script>
<script type="text/javascript" src="https://api.twitch.tv/kraken/search/streams?q=starcraft.json?count=100&callback=myCallback"></script>

</body>
</html>